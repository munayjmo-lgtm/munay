<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Munay</title>
  <meta name="description" content="Munay — palabras que llegan." />

  <!-- Anti-cache -->
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <style>
    body{
      margin:0; min-height:100vh;
      display:flex; align-items:center; justify-content:center;
      background:#0b1620; color:#e6edf3;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    .card{
      width:min(720px, 92vw);
      padding:36px 22px 28px;
      text-align:center;
      line-height:1.65;
    }
    .open{ font-size:1rem; opacity:.85; margin-bottom:22px; }

    .msg{
      font-size:1.45rem;
      font-weight:520;
      margin:24px 0 26px;
      white-space:pre-line;
      opacity:0;
      transform: translateY(4px);
      transition: opacity .6s ease, transform .6s ease;
    }
    .msg.show{
      opacity:1;
      transform: translateY(0);
    }

    .close{ font-size:1rem; opacity:.75; margin-top:6px; }
    .logo{ margin-top:30px; margin-bottom:10px; }
    .logo img{ width:90px; opacity:.85; }
    .sig{ font-size:.9rem; opacity:.7; letter-spacing:.5px; }

    /* ─────────────── FACEBOOK (CONFIG) ─────────────── */
    .social{
      margin-top: 22px;
    }
    .social a{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      text-decoration:none;
    }
    .social img{
      width: 26px;
      opacity: .55;
      transition: opacity .3s ease, transform .3s ease;
    }
    .social img:hover{
      opacity: .9;
      transform: scale(1.08);
    }
  </style>
</head>

<body>
  <main class="card">
    <div class="open">Este espacio es para una pausa.</div>

    <div id="message" class="msg"></div>

    <div class="close">Acá podés quedarte un instante.</div>

    <div class="logo">
      <img src="logo.png" alt="Munay">
    </div>

    <div class="sig">Palabras que llegan.</div>
    <div class="sig">Santiago del Estero — Argentina.</div>

    <!-- ─────────────── FACEBOOK (PAGE) ─────────────── -->
    <div class="social">
      <a href="https://www.facebook.com/share/1LF7nFriee/?mibextid=wwXIfr" target="_blank" rel="noopener noreferrer" aria-label="Facebook Munay">
        <img src="facebook.svg" alt="Facebook">
      </a>
    </div>
  </main>

  <script>
    /* ─────────────── TEXTOS POR CATEGORÍA ─────────────── */

    const abrazo = [
      "Está bien estar aqui.\nTal como sos hoy.",
      "No tenés que demostrar nada.\nYa alcanzás.",
      "Hay algo en vos\nque merece cuidado.",
      "Podés aflojar un poco.\nNada malo pasa.",
      "No llegaste tarde.\nEstás justo a tiempo.",
      "Respirá.\nEsto también es parte del camino.",
      "No hace falta hacer más.\nCon estar,\nalcanza.",
      "Hay lugar para vos.\nAsí como estás.",
      "No estás solo en esto.\nDe verdad.",
      "Podés descansar acá.\nUn rato."
    ];

    const alivio = [
      "Algo bueno ya está pasando:\npuesto que estás aqui.",
      "Tu día no tiene que ser perfecto\npara valer.",
      "Hay calma posible,\naunque no lo notes todavía.",
      "Hoy también cuenta.\nAunque haya sido simple.",
      "Estar vivo\nya es suficiente por hoy.",
      "No todo pesa siempre.\nEsto también pasa.",
      "Podés confiar:\nno todo está perdido.",
      "Incluso así,\nestás bien.",
      "No hace falta apurarse.\nLa vida te espera.",
      "Hay más luz de la que parece."
    ];

    const calidez = [
      "Es lindo que estés aqui.",
      "Tu presencia suma.\nAunque no lo sepas.",
      "Hay algo lindo en vos\nque se nota.",
      "No sos una carga.\nNunca lo fuiste.",
      "Hacés bien,\naunque no lo notes.",
      "Alguien se alegra\ncuando aparecés.",
      "Tu forma de ser\nes suficiente.",
      "No necesitás cambiar\npara ser querido.",
      "Estás haciendo lo mejor que podés.\nY eso alcanza.",
      "Que existas\nya es algo bueno."
    ];

    const reconocimiento = [
      "Hoy alguien está un poco mejor\nporque vos estuviste cerca.",
      "Hay personas que respiran distinto\ncuando vos estás alrededor.",
      "Aunque no lo sepas,\ntu presencia alivió a alguien hoy.",
      "No hiciste nada extraordinario,\ny aun así fuiste importante.",
      "Hoy alguien se sintió acompañado\nsin que hicieras ruido.",
      "A veces no es lo que decís,\nes que estés.",
      "Tu forma de estar\nle hizo bien a alguien.",
      "Hoy alguien se sintió menos solo\nporque vos existís.",
      "Sin proponértelo,\nfuiste un lugar seguro.",
      "Hay gestos tuyos\nque alguien guarda en silencio.",
      "No todo impacto se nota.\nEl tuyo llegó igual.",
      "Hoy alguien sonrió un poco más\ngracias a algo tuyo.",
      "Tu manera de estar\ndejo una marca linda.",
      "Hay personas que se sienten mejor\nsolo con saber que estás.",
      "Sin buscarlo,\nfuiste sostén.",
      "Alguien encontró calma\nen tu presencia.",
      "Hoy fuiste parte de algo bueno,\naunque nadie lo diga.",
      "No todo lo importante se agradece.\nAlgunas cosas simplemente hacen bien.",
      "Hoy alguien estuvo mejor\nporque vos estabas ahí."
    ];

    /* ─────────────── UTILIDADES ─────────────── */

    function randInt(max) {
      const a = new Uint32Array(1);
      crypto.getRandomValues(a);
      return a[0] % max;
    }

    function pick(arr) {
      return arr[randInt(arr.length)];
    }

    // Pesos por tramo emocional (suman 100)
    function getWeightsByHour(hour) {
      // Madrugada (23–05): sostén profundo, casi sin reconocimiento
      if (hour >= 23 || hour <= 5) {
        return { abrazo: 30, alivio: 15, calidez: 50, reconocimiento: 5 };
      }

      // Antes de salir (06–09): pausa + un toque de reconocimiento
      if (hour >= 6 && hour <= 9) {
        return { abrazo: 45, alivio: 20, calidez: 20, reconocimiento: 15 };
      }

      // En movimiento (10–12): espejo sube (lo que se sostiene por dentro)
      if (hour >= 10 && hour <= 12) {
        return { abrazo: 30, alivio: 35, calidez: 20, reconocimiento: 15 };
      }

      // Medio día (13–16): equilibrio (baja la urgencia)
      if (hour >= 13 && hour <= 16) {
        return { abrazo: 35, alivio: 25, calidez: 25, reconocimiento: 15 };
      }

      // Tarde / desgaste (17–19): más ancla y espejo
      if (hour >= 17 && hour <= 19) {
        return { abrazo: 25, alivio: 30, calidez: 35, reconocimiento: 10 };
      }

      // Cierre del día (20–22): ancla fuerte, reconocimiento más bajo
      return { abrazo: 25, alivio: 20, calidez: 45, reconocimiento: 10 };
    }

    function pickByWeights(weights) {
      const r = randInt(100);

      const c = weights.abrazo;
      const e = c + weights.alivio;
      const a = e + weights.calidez;

      if (r < c) return pick(abrazo);
      if (r < e) return pick(alivio);
      if (r < a) return pick(calidez);
      return pick(reconocimiento);
    }

    // Evita repetir el mismo texto en la misma sesión
    function pickNonRepeating(pickerFn, maxTries = 10) {
      const last = sessionStorage.getItem("munay_last_text");
      let text = pickerFn();

      if (last && last.length) {
        let tries = 0;
        while (text === last && tries < maxTries) {
          text = pickerFn();
          tries++;
        }
      }

      sessionStorage.setItem("munay_last_text", text);
      return text;
    }

    /* ─────────────── RENDER ─────────────── */

    const el = document.getElementById("message");

    const hour = new Date().getHours(); // hora local del usuario
    const weights = getWeightsByHour(hour);

    const text = pickNonRepeating(() => pickByWeights(weights));
    el.textContent = text;

    // micro–pausa intencional antes del fade
    setTimeout(() => {
      el.classList.add("show");
    }, 400);
  </script>

  <!-- Analítica ligera opcional -->
  <script data-goatcounter="https://munay.goatcounter.com/count"
          async src="//gc.zgo.at/count.js"></script>
</body>
</html>


