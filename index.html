<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Munay</title>
  <meta name="description" content="Munay — palabras que llegan." />

  <!-- Anti-cache -->
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <style>
    body{
      margin:0; min-height:100vh;
      display:flex; align-items:center; justify-content:center;
      background:#0b1620; color:#e6edf3;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    .card{
      width:min(720px, 92vw);
      padding:36px 22px 28px;
      text-align:center;
      line-height:1.65;
    }
    .open{ font-size:1rem; opacity:.85; margin-bottom:22px; }

    .msg{
      font-size:1.45rem;
      font-weight:520;
      margin:24px 0 26px;
      white-space:pre-line;
      opacity:0;
      transform: translateY(4px);
      transition: opacity .6s ease, transform .6s ease;
    }
    .msg.show{
      opacity:1;
      transform: translateY(0);
    }

    .close{ font-size:1rem; opacity:.75; margin-top:6px; }
    .logo{ margin-top:30px; margin-bottom:10px; }
    .logo img{ width:90px; opacity:.85; }
    .sig{ font-size:.9rem; opacity:.7; letter-spacing:.5px; }
  </style>
</head>

<body>
  <main class="card">
    <div class="open">Este espacio es para una pausa.</div>

    <div id="message" class="msg"></div>

    <div class="close">Acá podés quedarte un instante.</div>

    <div class="logo">
      <img src="logo.png" alt="Munay">
    </div>

    <div class="sig">Palabras que llegan.</div>
    <div class="sig">Santiago del Estero — Argentina.</div>
  </main>

  <script>
    /* ─────────────── TEXTOS POR CATEGORÍA ─────────────── */

    const contemplativos = [
      "A veces el cansancio no es del cuerpo.\nEs de sostener demasiado.\nSi hoy estás más lento,\nno es falla.\nEs desgaste.",
      "No todo lo que pesa se ve.\nHay cargas silenciosas\nque igual cansan.",
      "Hay días en los que seguir\nya es un esfuerzo enorme.\nEso también cuenta.",
      "No siempre necesitás respuestas.\nA veces solo\nun momento sin ruido.",
      "Si hoy todo te cuesta un poco más,\nno te apures.\nAlgo en vos está pidiendo\notro ritmo.",
      "No todo lo que sentís\nnecesita nombre.\nAlgunas cosas\nsolo necesitan espacio.",
      "Hay cansancios que no se duermen.\nSe acompañan.",
      "No es que no puedas.\nEs que venís pudiendo\nhace mucho.",
      "Hoy no hace falta entender nada.\nCon estar acá,\nalcanza.",
      "A veces no falta fuerza.\nFalta pausa."
    ];

    const espejo = [
      "Quizás hoy sonreíste,\npero por dentro estabas pidiendo una pausa.\nNo es contradicción.\nEs supervivencia.",
      "Capaz cumpliste con todo,\naunque nadie vio lo que te costó.\nVos sí.",
      "Tal vez dijiste “todo bien”\nporque no sabías cómo explicar lo otro.\nEso también es cuidarte.",
      "Hay días en los que funcionás,\npero no habitás.\nY eso también cansa.",
      "Quizás hoy estuviste para todos,\nmenos para vos.\nSuele pasar.",
      "Capaz no estás triste.\nCapaz solo estás lleno.",
      "Seguramente alguien piensa\nque sos fuerte.\nNo siempre saben lo que eso implica.",
      "Hoy hiciste lo que pudiste\ncon lo que tenías.\nAunque nadie lo note.",
      "A veces no es falta de ganas.\nEs exceso de exigencia.",
      "Quizás no querías hablar.\nNo por desinterés,\nsino por agotamiento."
    ];

    const ancla = [
      "No todo se resuelve hoy.\nNo todo se entiende ahora.\nQuedarte\nya es suficiente.",
      "No te apures a estar bien.\nEstar acá\ntambién vale.",
      "Esto no pide fuerza.\nPide presencia.\nAunque sea un poco.",
      "No hace falta decidir nada hoy.\nRespirar\ntambién es avanzar.",
      "Algunas cosas no se superan.\nSe aprenden a llevar.\nY eso lleva tiempo.",
      "No te abandones\npor no poder con todo.",
      "No todo lo que pesa\ntiene que soltarse hoy.",
      "Volvé cuando lo necesites.\nEste lugar\nno se mueve.",
      "Si hoy no podés más,\nno es el final.\nEs una pausa.",
      "No te vayas de vos\npor cumplir con todo lo demás."
    ];

    const reconocimiento = [
      "Hoy alguien está un poco mejor\nporque vos estuviste cerca.",
      "Hay personas que respiran distinto\ncuando vos estás alrededor.",
      "Aunque no lo sepas,\ntu presencia alivió a alguien hoy.",
      "No hiciste nada extraordinario,\ny aun así fuiste importante.",
      "Hoy alguien se sintió acompañado\nsin que hicieras ruido.",
      "A veces no es lo que decís,\nes que estés.",
      "Tu forma de estar\nle hizo bien a alguien.",
      "Hoy alguien se sintió menos solo\nporque vos existís.",
      "Sin proponértelo,\nfuiste un lugar seguro.",
      "Hay gestos tuyos\nque alguien guarda en silencio.",
      "No todo impacto se nota.\nEl tuyo llegó igual.",
      "Hoy alguien sonrió un poco más\ngracias a algo tuyo.",
      "Tu manera de estar\ndejo una marca amable.",
      "Hay personas que se sienten mejor\nsolo con saber que estás.",
      "Sin buscarlo,\nfuiste sostén.",
      "Alguien encontró calma\nen tu presencia.",
      "Hoy fuiste parte de algo bueno,\naunque nadie lo diga.",
      "No todo lo importante se agradece.\nAlgunas cosas simplemente hacen bien.",
      "Tu lugar en el mundo\nno está vacío para otros.",
      "Hoy alguien estuvo mejor\nporque vos estabas ahí."
    ];

    /* ─────────────── UTILIDADES ─────────────── */

    function randInt(max) {
      const a = new Uint32Array(1);
      crypto.getRandomValues(a);
      return a[0] % max;
    }

    function pick(arr) {
      return arr[randInt(arr.length)];
    }

    // Pesos por tramo emocional (suman 100)
    function getWeightsByHour(hour) {
      // Madrugada (23–05): sostén profundo, casi sin reconocimiento
      if (hour >= 23 || hour <= 5) {
        return { contemplativos: 30, espejo: 15, ancla: 50, reconocimiento: 5 };
      }

      // Antes de salir (06–09): pausa + un toque de reconocimiento
      if (hour >= 6 && hour <= 9) {
        return { contemplativos: 45, espejo: 20, ancla: 20, reconocimiento: 15 };
      }

      // En movimiento (10–12): espejo sube (lo que se sostiene por dentro)
      if (hour >= 10 && hour <= 12) {
        return { contemplativos: 30, espejo: 35, ancla: 20, reconocimiento: 15 };
      }

      // Medio día (13–16): equilibrio (baja la urgencia)
      if (hour >= 13 && hour <= 16) {
        return { contemplativos: 35, espejo: 25, ancla: 25, reconocimiento: 15 };
      }

      // Tarde / desgaste (17–19): más ancla y espejo
      if (hour >= 17 && hour <= 19) {
        return { contemplativos: 25, espejo: 30, ancla: 35, reconocimiento: 10 };
      }

      // Cierre del día (20–22): ancla fuerte, reconocimiento más bajo
      return { contemplativos: 25, espejo: 20, ancla: 45, reconocimiento: 10 };
    }

    function pickByWeights(weights) {
      const r = randInt(100);

      const c = weights.contemplativos;
      const e = c + weights.espejo;
      const a = e + weights.ancla;

      if (r < c) return pick(contemplativos);
      if (r < e) return pick(espejo);
      if (r < a) return pick(ancla);
      return pick(reconocimiento);
    }

    // Evita repetir el mismo texto en la misma sesión
    function pickNonRepeating(pickerFn, maxTries = 10) {
      const last = sessionStorage.getItem("munay_last_text");
      let text = pickerFn();

      if (last && last.length) {
        let tries = 0;
        while (text === last && tries < maxTries) {
          text = pickerFn();
          tries++;
        }
      }

      sessionStorage.setItem("munay_last_text", text);
      return text;
    }

    /* ─────────────── RENDER ─────────────── */

    const el = document.getElementById("message");

    const hour = new Date().getHours(); // hora local del usuario
    const weights = getWeightsByHour(hour);

    const text = pickNonRepeating(() => pickByWeights(weights));
    el.textContent = text;

    // micro–pausa intencional antes del fade
    setTimeout(() => {
      el.classList.add("show");
    }, 400);
  </script>

  <!-- Analítica ligera opcional -->
  <script data-goatcounter="https://munay.goatcounter.com/count"
          async src="//gc.zgo.at/count.js"></script>
</body>
</html>

